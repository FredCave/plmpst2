(function(){var a;a="undefined"!=typeof exports&&null!==exports?exports:this,a.Lethargy=function(){function a(a,b,c,d){this.stability=null!=a?Math.abs(a):8,this.sensitivity=null!=b?1+Math.abs(b):100,this.tolerance=null!=c?1+Math.abs(c):1.1,this.delay=null!=d?d:150,this.lastUpDeltas=function(){var a,b,c;for(c=[],a=1,b=2*this.stability;b>=1?b>=a:a>=b;b>=1?a++:a--)c.push(null);return c}.call(this),this.lastDownDeltas=function(){var a,b,c;for(c=[],a=1,b=2*this.stability;b>=1?b>=a:a>=b;b>=1?a++:a--)c.push(null);return c}.call(this),this.deltasTimestamp=function(){var a,b,c;for(c=[],a=1,b=2*this.stability;b>=1?b>=a:a>=b;b>=1?a++:a--)c.push(null);return c}.call(this)}return a.prototype.check=function(a){var b;return a=a.originalEvent||a,null!=a.wheelDelta?b=a.wheelDelta:null!=a.deltaY?b=-40*a.deltaY:(null!=a.detail||0===a.detail)&&(b=-40*a.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),b>0?(this.lastUpDeltas.push(b),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(b),this.lastDownDeltas.shift(),this.isInertia(-1))},a.prototype.isInertia=function(a){var b,c,d,e,f,g,h;return b=-1===a?this.lastDownDeltas:this.lastUpDeltas,null===b[0]?a:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&b[0]===b[2*this.stability-1])&&(d=b.slice(0,this.stability),c=b.slice(this.stability,2*this.stability),h=d.reduce(function(a,b){return a+b}),f=c.reduce(function(a,b){return a+b}),g=h/d.length,e=f/c.length,Math.abs(g)<Math.abs(e*this.tolerance)&&this.sensitivity<Math.abs(e)&&a)},a.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},a.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},a}()}).call(this);var Page={winW:$(window).width(),winH:$(window).height(),init:function(){console.log("Page.init"),Info.init(),this.bindEvents(),this.imagesCalc(),this.imagesInit(),this.audioInit()},bindEvents:function(){console.log("Page.bindEvents");var a=this;new Lethargy;$(window).on("mousewheel DOMMouseScroll wheel",_.throttle(function(b){b.preventDefault(),a.scrollManager(b.originalEvent)},100)),$(window).on("resize",_.throttle(function(){a.winW=$(window).width(),a.winH=$(window).height(),a.imagesCalc()},1e3))},imagesInit:function(){console.log("Page.imageInit"),$("#wrapper .scroll_image").first().addClass("visible")},imagesCalc:function(){console.log("Page.imagesCalc");var a=this.winW/this.winH,b=this;$("#wrapper .scroll_image").each(function(){var c,d,e=parseFloat($(this).attr("data-ratio"));c=a>e?b.winW:b.winH*e,d=c<=400?$(this).attr("data-tmb"):c>400&&c<=600?$(this).attr("data-med"):c>600&&c<=768?$(this).attr("data-mlg"):c>768&&c<=900?$(this).attr("data-lrg"):c>900&&c<=1200?$(this).attr("data-xlg"):$(this).attr("data-ulg");var f=$(this).attr("style").split("('")[1];f&&(f=f.split("')")[0]),d!==f&&(console.log("Source changed."),$(this).attr("style","background-image:url('"+d+"')"))})},audioInit:function(){console.log("Page.audioInit")},scrollManager:function(a){console.log("Page.scrollManager"),console.log(100,a),a.wheelDelta&&(delta=-a.wheelDelta),a.detail&&(delta=40*a.detail),delta>10?this.imagePrev():delta<-10&&this.imageNext()},imageNext:function(){console.log("Info.imageNext"),$(".visible").next().length?$(".visible").removeClass("visible").next().addClass("visible"):($(".visible").removeClass("visible"),$(".scroll_image").first().addClass("visible"))},imagePrev:function(){console.log("Info.imagePrev"),$(".visible").prev().length?(console.log(144),$(".visible").removeClass("visible").prev().addClass("visible")):(console.log(147),$(".visible").removeClass("visible"),$(".scroll_image").last().addClass("visible"))}};$(document).on("ready",function(){Page.init()});